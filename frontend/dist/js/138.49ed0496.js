"use strict";(self["webpackChunksmart_recycling_frontend"]=self["webpackChunksmart_recycling_frontend"]||[]).push([[138],{138:(a,t,e)=>{e.r(t),e.d(t,{default:()=>La});var l=e(641),s=e(33),n=e(751);const i={class:"admin"},o={class:"container"},d={class:"admin-grid"},c={class:"stats-section"},r={class:"stat-card"},m={class:"stat-info"},u={class:"stat-number"},v={class:"stat-label"},L={class:"stat-card"},k={class:"stat-info"},p={class:"stat-number"},b={class:"stat-label"},_={class:"stat-card"},g={class:"stat-info"},y={class:"stat-number"},$={class:"stat-label"},h={class:"stat-card"},f={class:"stat-info"},C={class:"stat-number"},A={class:"stat-label"},S={class:"users-section card"},U={class:"table-container"},w={class:"users-table"},F=["onClick"],R={class:"locations-section card"},I={class:"locations-grid"},D={class:"location-info"},E={class:"location-coords"},K={class:"location-type"},X={class:"location-actions"},V=["onClick"],q=["onClick"],x={class:"activity-section card"},J={class:"chart-placeholder"},M={class:"chart-stats"},P={class:"chart-stat"},T={class:"stat-value"},O={class:"stat-label"},N={class:"chart-stat"},Q={class:"stat-value"},j={class:"stat-label"},z={key:0,class:"modal-overlay"},B={class:"modal"},G={class:"form-group"},H={class:"form-group"},W={class:"form-row"},Y={class:"form-group"},Z={class:"form-group"},aa={class:"form-group"},ta={value:"plastic"},ea={value:"paper"},la={value:"glass"},sa={value:"metal"},na={value:"general"},ia={class:"modal-actions"},oa={type:"submit",class:"btn btn-primary"};function da(a,t,e,da,ca,ra){return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",o,[(0,l.Lk)("h1",null,(0,s.v_)(a.$t("admin.title")),1),(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[(0,l.Lk)("div",r,[t[8]||(t[8]=(0,l.Lk)("div",{class:"stat-icon"},"ðŸ‘¥",-1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",u,(0,s.v_)(da.stats.totalUsers),1),(0,l.Lk)("div",v,(0,s.v_)(a.$t("admin.totalUsers")),1)])]),(0,l.Lk)("div",L,[t[9]||(t[9]=(0,l.Lk)("div",{class:"stat-icon"},"â™»ï¸",-1)),(0,l.Lk)("div",k,[(0,l.Lk)("div",p,(0,s.v_)(da.stats.totalScans),1),(0,l.Lk)("div",b,(0,s.v_)(a.$t("admin.totalScans")),1)])]),(0,l.Lk)("div",_,[t[10]||(t[10]=(0,l.Lk)("div",{class:"stat-icon"},"âœ…",-1)),(0,l.Lk)("div",g,[(0,l.Lk)("div",y,(0,s.v_)(da.stats.recyclableItems),1),(0,l.Lk)("div",$,(0,s.v_)(a.$t("admin.recyclableItems")),1)])]),(0,l.Lk)("div",h,[t[11]||(t[11]=(0,l.Lk)("div",{class:"stat-icon"},"ðŸ†",-1)),(0,l.Lk)("div",f,[(0,l.Lk)("div",C,(0,s.v_)(da.stats.totalPoints),1),(0,l.Lk)("div",A,(0,s.v_)(a.$t("admin.totalPoints")),1)])])]),(0,l.Lk)("div",S,[(0,l.Lk)("h2",null,(0,s.v_)(a.$t("admin.usersManagement")),1),(0,l.Lk)("div",U,[(0,l.Lk)("table",w,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,(0,s.v_)(a.$t("profile.username")),1),(0,l.Lk)("th",null,(0,s.v_)(a.$t("profile.email")),1),(0,l.Lk)("th",null,(0,s.v_)(a.$t("common.points")),1),(0,l.Lk)("th",null,(0,s.v_)(a.$t("profile.joinDate")),1),(0,l.Lk)("th",null,(0,s.v_)(a.$t("admin.actions")),1)])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(da.users,t=>((0,l.uX)(),(0,l.CE)("tr",{key:t.id},[(0,l.Lk)("td",null,(0,s.v_)(t.username),1),(0,l.Lk)("td",null,(0,s.v_)(t.email),1),(0,l.Lk)("td",null,(0,s.v_)(t.points),1),(0,l.Lk)("td",null,(0,s.v_)(da.formatDate(t.created_at)),1),(0,l.Lk)("td",null,["admin"!==t.role?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:a=>da.toggleUserRole(t),class:(0,s.C4)(["btn btn-sm","user"===t.role?"btn-warning":"btn-secondary"])},(0,s.v_)("user"===t.role?a.$t("admin.promoteToAdmin"):a.$t("admin.removeAdmin")),11,F)):(0,l.Q3)("",!0)])]))),128))])])])]),(0,l.Lk)("div",R,[(0,l.Lk)("h2",null,(0,s.v_)(a.$t("admin.locationsManagement")),1),(0,l.Lk)("button",{onClick:t[0]||(t[0]=a=>da.showAddLocation=!0),class:"btn btn-primary mb-3"}," + "+(0,s.v_)(a.$t("admin.addLocation")),1),(0,l.Lk)("div",I,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(da.locations,t=>((0,l.uX)(),(0,l.CE)("div",{key:t.id,class:"location-card"},[(0,l.Lk)("div",D,[(0,l.Lk)("h3",null,(0,s.v_)(t.name),1),(0,l.Lk)("p",null,(0,s.v_)(t.address),1),(0,l.Lk)("div",E,[(0,l.Lk)("small",null,(0,s.v_)(a.$t("admin.coordinates"))+": "+(0,s.v_)(t.latitude)+", "+(0,s.v_)(t.longitude),1)]),(0,l.Lk)("div",K,[(0,l.Lk)("span",{class:(0,s.C4)(["type-badge",t.type])},(0,s.v_)(da.getArabicType(t.type)),3)])]),(0,l.Lk)("div",X,[(0,l.Lk)("button",{onClick:a=>da.editLocation(t),class:"btn btn-sm btn-secondary"},(0,s.v_)(a.$t("admin.edit")),9,V),(0,l.Lk)("button",{onClick:a=>da.deleteLocation(t.id),class:"btn btn-sm btn-danger"},(0,s.v_)(a.$t("admin.delete")),9,q)])]))),128))])]),(0,l.Lk)("div",x,[(0,l.Lk)("h2",null,(0,s.v_)(a.$t("admin.systemActivity")),1),(0,l.Lk)("div",J,[(0,l.Lk)("p",null,"ðŸ“Š "+(0,s.v_)(a.$t("admin.chartsMessage")),1),(0,l.Lk)("div",M,[(0,l.Lk)("div",P,[(0,l.Lk)("div",T,(0,s.v_)(da.recentActivity.length),1),(0,l.Lk)("div",O,(0,s.v_)(a.$t("admin.todayActivity")),1)]),(0,l.Lk)("div",N,[(0,l.Lk)("div",Q,(0,s.v_)(Math.round(da.stats.recyclingRate))+"%",1),(0,l.Lk)("div",j,(0,s.v_)(a.$t("admin.recyclingRate")),1)])])])])]),da.showAddLocation?((0,l.uX)(),(0,l.CE)("div",z,[(0,l.Lk)("div",B,[(0,l.Lk)("h3",null,(0,s.v_)(da.editingLocation?a.$t("admin.editLocation"):a.$t("admin.addNewLocation")),1),(0,l.Lk)("form",{onSubmit:t[7]||(t[7]=(0,n.D$)((...a)=>da.saveLocation&&da.saveLocation(...a),["prevent"]))},[(0,l.Lk)("div",G,[(0,l.Lk)("label",null,(0,s.v_)(a.$t("admin.locationName")),1),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>da.locationForm.name=a),required:""},null,512),[[n.Jo,da.locationForm.name]])]),(0,l.Lk)("div",H,[(0,l.Lk)("label",null,(0,s.v_)(a.$t("admin.address")),1),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>da.locationForm.address=a),required:""},null,512),[[n.Jo,da.locationForm.address]])]),(0,l.Lk)("div",W,[(0,l.Lk)("div",Y,[(0,l.Lk)("label",null,(0,s.v_)(a.$t("admin.latitude")),1),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>da.locationForm.latitude=a),type:"number",step:"any",required:""},null,512),[[n.Jo,da.locationForm.latitude]])]),(0,l.Lk)("div",Z,[(0,l.Lk)("label",null,(0,s.v_)(a.$t("admin.longitude")),1),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>da.locationForm.longitude=a),type:"number",step:"any",required:""},null,512),[[n.Jo,da.locationForm.longitude]])])]),(0,l.Lk)("div",aa,[(0,l.Lk)("label",null,(0,s.v_)(a.$t("admin.locationType")),1),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>da.locationForm.type=a),required:""},[(0,l.Lk)("option",ta,(0,s.v_)(a.$t("materials.plastic_bottle")),1),(0,l.Lk)("option",ea,(0,s.v_)(a.$t("materials.paper")),1),(0,l.Lk)("option",la,(0,s.v_)(a.$t("materials.glass")),1),(0,l.Lk)("option",sa,(0,s.v_)(a.$t("materials.metal_can")),1),(0,l.Lk)("option",na,(0,s.v_)(a.$t("admin.general")),1)],512),[[n.u1,da.locationForm.type]])]),(0,l.Lk)("div",ia,[(0,l.Lk)("button",oa,(0,s.v_)(da.editingLocation?a.$t("admin.update"):a.$t("admin.add")),1),(0,l.Lk)("button",{type:"button",onClick:t[6]||(t[6]=(...a)=>da.cancelEdit&&da.cancelEdit(...a)),class:"btn btn-secondary"},(0,s.v_)(a.$t("admin.cancel")),1)])],32)])])):(0,l.Q3)("",!0)])])}var ca=e(953),ra=e(992);const ma={name:"Admin",setup(){const{t:a}=(0,ra.s9)(),t=(0,ca.KR)({totalUsers:0,totalScans:0,recyclableItems:0,totalPoints:0,recyclingRate:0}),e=(0,ca.KR)([]),s=(0,ca.KR)([]),n=(0,ca.KR)([]),i=(0,ca.KR)(!1),o=(0,ca.KR)(null),d=(0,ca.KR)({name:"",address:"",latitude:"",longitude:"",type:"general"}),c=t=>{const e={plastic:a("materials.plastic_bottle"),paper:a("materials.paper"),glass:a("materials.glass"),metal:a("materials.metal_can"),general:a("admin.general")};return e[t]||t},r=a=>{const t=localStorage.getItem("userLanguage")||"ar";return new Date(a).toLocaleDateString("ar"===t?"ar-SA":"en-US")},m=async()=>{t.value={totalUsers:150,totalScans:1250,recyclableItems:890,totalPoints:8900,recyclingRate:71.2}},u=async()=>{e.value=[{id:1,username:a("admin.sampleUser1"),email:"ahmed@example.com",points:150,role:"user",created_at:(new Date).toISOString()},{id:2,username:a("admin.sampleUser2"),email:"admin@example.com",points:0,role:"admin",created_at:(new Date).toISOString()},{id:3,username:a("admin.sampleUser3"),email:"mohammed@example.com",points:75,role:"user",created_at:(new Date).toISOString()}]},v=async()=>{s.value=[{id:1,name:a("admin.location1"),address:a("admin.location1Address"),latitude:24.7136,longitude:46.6753,type:"plastic"},{id:2,name:a("admin.location2"),address:a("admin.location2Address"),latitude:21.4858,longitude:39.1925,type:"paper"},{id:3,name:a("admin.location3"),address:a("admin.location3Address"),latitude:26.4207,longitude:50.0888,type:"general"}]},L=a=>{a.role="user"===a.role?"admin":"user"},k=a=>{o.value=a,d.value={...a},i.value=!0},p=t=>{confirm(a("admin.deleteConfirm"))&&(s.value=s.value.filter(a=>a.id!==t))},b=()=>{if(o.value){const a=s.value.findIndex(a=>a.id===o.value.id);-1!==a&&(s.value[a]={...d.value,id:o.value.id})}else{const a={...d.value,id:Date.now()};s.value.push(a)}_()},_=()=>{i.value=!1,o.value=null,d.value={name:"",address:"",latitude:"",longitude:"",type:"general"}};return(0,l.sV)(()=>{m(),u(),v()}),{stats:t,users:e,locations:s,recentActivity:n,showAddLocation:i,editingLocation:o,locationForm:d,getArabicType:c,formatDate:r,toggleUserRole:L,editLocation:k,deleteLocation:p,saveLocation:b,cancelEdit:_}}};var ua=e(262);const va=(0,ua.A)(ma,[["render",da],["__scopeId","data-v-49d942de"]]),La=va}}]);
//# sourceMappingURL=138.49ed0496.js.map