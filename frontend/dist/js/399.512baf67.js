"use strict";(self["webpackChunksmart_recycling_frontend"]=self["webpackChunksmart_recycling_frontend"]||[]).push([[399],{295:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(889);const i={processItem:e=>s.A.post("/recycling/process",e,{headers:{"Content-Type":"multipart/form-data"}}),getLocations:e=>s.A.get("/recycling/locations",{params:e}),getUserHistory:()=>s.A.get("/recycling/history"),getUserStats:()=>s.A.get("/users/stats")},c=i},399:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(641),i=a(33);const c={class:"profile"},l={class:"container"},r={class:"profile-grid"},n={class:"user-info card"},o={class:"user-details"},v={class:"detail-item"},d={class:"detail-item"},u={class:"detail-item"},k={class:"detail-item"},m={class:"stats-card card"},p={class:"stats-grid"},y={class:"stat"},_={class:"stat-value"},L={class:"stat-label"},f={class:"stat"},g={class:"stat-value"},h={class:"stat-label"},$={class:"stat"},b={class:"stat-value"},A={class:"stat-label"},E={class:"stat"},C={class:"stat-value"},S={class:"stat-label"},D={class:"activity-card card"},R={class:"activity-list"},I={class:"activity-icon"},W={class:"activity-details"},X={class:"activity-type"},w={class:"activity-date"},U={key:0,class:"activity-points"},K={key:0,class:"no-activity"},P={class:"achievements-card card"},j={class:"achievements-list"},x={class:"achievement-icon"},F={class:"achievement-details"},H={class:"achievement-name"},Q={class:"achievement-desc"};function M(e,t,a,M,T,V){return(0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("div",l,[(0,s.Lk)("h1",null,(0,i.v_)(e.$t("profile.title")),1),(0,s.Lk)("div",r,[(0,s.Lk)("div",n,[(0,s.Lk)("h2",null,(0,i.v_)(e.$t("profile.accountInfo")),1),(0,s.Lk)("div",o,[(0,s.Lk)("div",v,[(0,s.Lk)("strong",null,(0,i.v_)(e.$t("profile.username"))+":",1),(0,s.eW)(" "+(0,i.v_)(M.user.username),1)]),(0,s.Lk)("div",d,[(0,s.Lk)("strong",null,(0,i.v_)(e.$t("profile.email"))+":",1),(0,s.eW)(" "+(0,i.v_)(M.user.email),1)]),(0,s.Lk)("div",u,[(0,s.Lk)("strong",null,(0,i.v_)(e.$t("profile.role"))+":",1),(0,s.eW)(" "+(0,i.v_)("admin"===M.user.role?e.$t("profile.adminRole"):e.$t("profile.userRole")),1)]),(0,s.Lk)("div",k,[(0,s.Lk)("strong",null,(0,i.v_)(e.$t("profile.joinDate"))+":",1),(0,s.eW)(" "+(0,i.v_)(M.formatDate(M.user.created_at)),1)])])]),(0,s.Lk)("div",m,[(0,s.Lk)("h2",null,(0,i.v_)(e.$t("profile.yourStats")),1),(0,s.Lk)("div",p,[(0,s.Lk)("div",y,[(0,s.Lk)("div",_,(0,i.v_)(M.userStats.total_points||0),1),(0,s.Lk)("div",L,(0,i.v_)(e.$t("profile.totalPoints")),1)]),(0,s.Lk)("div",f,[(0,s.Lk)("div",g,(0,i.v_)(M.userStats.total_items||0),1),(0,s.Lk)("div",h,(0,i.v_)(e.$t("profile.scannedItems")),1)]),(0,s.Lk)("div",$,[(0,s.Lk)("div",b,(0,i.v_)(M.userStats.recyclable_items||0),1),(0,s.Lk)("div",A,(0,i.v_)(e.$t("profile.recyclableItems")),1)]),(0,s.Lk)("div",E,[(0,s.Lk)("div",C,(0,i.v_)(M.recyclingRate)+"%",1),(0,s.Lk)("div",S,(0,i.v_)(e.$t("profile.recyclingRate")),1)])])]),(0,s.Lk)("div",D,[(0,s.Lk)("h2",null,(0,i.v_)(e.$t("profile.recentActivity")),1),(0,s.Lk)("div",R,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(M.recentActivity,t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:"activity-item"},[(0,s.Lk)("div",I,(0,i.v_)(t.is_recyclable?"â™»ï¸":"ðŸš«"),1),(0,s.Lk)("div",W,[(0,s.Lk)("div",X,(0,i.v_)(e.$t("materials."+t.item_type)),1),(0,s.Lk)("div",w,(0,i.v_)(M.formatDate(t.created_at)),1)]),t.is_recyclable?((0,s.uX)(),(0,s.CE)("div",U," +10 "+(0,i.v_)(e.$t("common.points")),1)):(0,s.Q3)("",!0)]))),128))]),0===M.recentActivity.length?((0,s.uX)(),(0,s.CE)("div",K,(0,i.v_)(e.$t("profile.noActivity")),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",P,[(0,s.Lk)("h2",null,(0,i.v_)(e.$t("profile.achievements")),1),(0,s.Lk)("div",j,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(M.achievements,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,i.C4)(["achievement",{unlocked:e.unlocked}])},[(0,s.Lk)("div",x,(0,i.v_)(e.icon),1),(0,s.Lk)("div",F,[(0,s.Lk)("div",H,(0,i.v_)(e.name),1),(0,s.Lk)("div",Q,(0,i.v_)(e.description),1)])],2))),128))])])])])])}var T=a(953),V=a(278),q=a(992),z=a(295);const B={name:"Profile",setup(){const e=(0,V.Pj)(),{t}=(0,q.s9)(),a=(0,T.KR)({}),i=(0,T.KR)([]),c=(0,s.EW)(()=>e.getters.user),l=(0,s.EW)(()=>a.value.total_items&&a.value.recyclable_items?Math.round(a.value.recyclable_items/a.value.total_items*100):0),r=(0,s.EW)(()=>[{id:1,name:t("profile.beginner"),description:t("profile.beginnerDesc"),icon:"ðŸŒ±",unlocked:a.value.total_items>=5},{id:2,name:t("profile.activeRecycler"),description:t("profile.activeRecyclerDesc"),icon:"â™»ï¸",unlocked:a.value.total_items>=20},{id:3,name:t("profile.ecoChampion"),description:t("profile.ecoChampionDesc"),icon:"ðŸ†",unlocked:a.value.total_points>=100},{id:4,name:t("profile.recyclingExpert"),description:t("profile.recyclingExpertDesc"),icon:"â­",unlocked:l.value>=80}]),n=e=>{const t=localStorage.getItem("userLanguage")||"ar";return new Date(e).toLocaleDateString("ar"===t?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})},o=async()=>{try{const e=await z.A.getUserStats();a.value=e.data}catch(e){console.error("Error fetching user stats:",e)}},v=async()=>{try{const e=await z.A.getUserHistory();i.value=e.data.slice(0,10)}catch(e){console.error("Error fetching recent activity:",e)}};return(0,s.sV)(()=>{o(),v()}),{user:c,userStats:a,recentActivity:i,recyclingRate:l,achievements:r,formatDate:n}}};var G=a(262);const J=(0,G.A)(B,[["render",M],["__scopeId","data-v-5b1ddc8e"]]),N=J}}]);
//# sourceMappingURL=399.512baf67.js.map